import streamlit as st

def estimate_cost(filament_weight_g, filament_cost_per_kg, print_time_hours, electricity_rate_per_kwh, printer_power_watts):
    filament_cost = (filament_weight_g / 1000) * filament_cost_per_kg
    electricity_cost = (printer_power_watts / 1000) * print_time_hours * electricity_rate_per_kwh
    total_cost = filament_cost + electricity_cost
    return filament_cost, electricity_cost, total_cost

st.title("3D Print Cost Estimator")

st.header("Inputs")
filament_weight_g = st.number_input("Filament Used (grams)", min_value=0.0, value=100.0)
filament_cost_per_kg = st.number_input("Filament Cost per KG ($)", min_value=0.0, value=20.0)
print_time_hours = st.number_input("Estimated Print Time (hours)", min_value=0.0, value=5.0)
electricity_rate_per_kwh = st.number_input("Electricity Rate per kWh ($)", min_value=0.0, value=0.13)
printer_power_watts = st.number_input("Printer Power Consumption (watts)", min_value=0.0, value=150.0)

if st.button("Calculate Cost"):
    filament_cost, electricity_cost, total_cost = estimate_cost(
        filament_weight_g, filament_cost_per_kg, print_time_hours,
        electricity_rate_per_kwh, printer_power_watts
    )

    st.header("Cost Breakdown")
    st.success(f"Filament Cost: ${filament_cost:.2f}")
    st.info(f"Electricity Cost: ${electricity_cost:.2f}")
    st.markdown(f"### âœ… **Total Estimated Cost: ${total_cost:.2f}**")
